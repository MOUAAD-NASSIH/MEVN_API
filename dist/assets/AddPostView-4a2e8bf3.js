import{u as v,b as g,r as n,o as b,d as y,w as o,V as w,e,f as _,g as C,h as x,i,j as F,k as T,l as P,m as k}from"./index-a86eeedd.js";import{V as S,a as m,b as h,c as A}from"./VTextarea-3faa929e.js";const U={__name:"AddPostView",setup(B){const{addPost:p}=v(),c=g(),r=n(null),u=n([t=>t?!0:"This field is required."]),d=n(""),a=n({title:"",category:"",content:"",image:""}),V=t=>{d.value=t.target.files[0]},f=async()=>{const t=new FormData;if(t.append("image",d.value),t.append("title",a.value.title),t.append("category",a.value.category),t.append("content",a.value.content),r.value.validate()){const l=await p(t);c.push({name:"home",query:{message:l.message}})}};return(t,l)=>(b(),y(w,null,{default:o(()=>[e(k,{"no-gutters":""},{default:o(()=>[e(_,{sm:"10",class:"mx-auto"},{default:o(()=>[e(C,{class:"pa-5"},{default:o(()=>[e(x,null,{default:o(()=>[i("Add New Post")]),_:1}),e(F),e(S,{ref_key:"form",ref:r,onSubmit:T(f,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:o(()=>[e(m,{label:"Title","prepend-icon":"mdi-note",modelValue:a.value.title,"onUpdate:modelValue":l[0]||(l[0]=s=>a.value.title=s),rules:u.value},null,8,["modelValue","rules"]),e(m,{label:"Category","prepend-icon":"mdi-view-list",modelValue:a.value.category,"onUpdate:modelValue":l[1]||(l[1]=s=>a.value.category=s),rules:u.value},null,8,["modelValue","rules"]),e(h,{label:"Content","prepend-icon":"mdi-note-plus",modelValue:a.value.content,"onUpdate:modelValue":l[2]||(l[2]=s=>a.value.content=s),rules:u.value},null,8,["modelValue","rules"]),e(A,{accept:"image/*",rules:u.value,onChange:V,"show-size":"",counter:"",label:"Select Image"},null,8,["rules"]),e(P,{type:"submit",class:"mt-3",color:"blue"},{default:o(()=>[i("Add Post")]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{U as default};
